# 機能一覧（Gappy Tabinaka Media Web）

## 1. サイト共通/UI基盤
- レスポンシブ対応（モバイル/タブレット/デスクトップ）
- グリーン基調のデザイン（Tailwindベース）
- ヘッダー: ロゴ、主要ナビ（Home/Chat/Experiences/Likes）、モバイルメニュー、スクロール時の挙動制御
- フッター: 主要リンク、SNSリンク（X/Instagram/Facebook/TikTok/Discord）

## 2. 多言語対応・i18n
- 6言語対応（en/ja/zh/ko/es/fr）
- URLロケールによる切り替え（例: /en, /ja）
- 翻訳フォールバックとナビ文言の多言語表示

## 3. ホーム（/）
- Hero検索入力（自然文検索 → Chatへ遷移）
- 入力例のタイピングアニメーション
- 記事画像のスライド表示
- 旅行タイプ診断（Quiz）へのCTA
- AIチャットへのCTA
- SEOメタ/OG/Twitterカード/構造化データ

## 5. 体験（Experiences）
- 体験一覧（MDXベース）
- 検索/フィルタ（キーワード、所要時間など）
- 位置情報を利用した体験表示（周辺性）
- 追加読み込み/ページング
- AI探索セクション（場所/テーマ別の提案カード）
- モチベーションカテゴリ別一覧（/motivation/[category]）

### 体験詳細（/experiences/[slug]）
- 体験メタ情報（価格/所要時間/難易度/割引/クーポンコード）
- 画像スライダー
- いいねボタン
- Google Maps レーティング/レビュー連携
- 現在地からの距離・徒歩時間表示
- 地図表示（埋め込み）と Google Maps への外部遷移
- 位置情報利用ボタン（許可状況のヒント表示）
- 構造化データ（Experience）

### 体験フォーム（予約/申込）
- 統一フォームの表示切替（体験設定で制御）
- フォーム入力（日時/人数/連絡先/国/属性など）
- 電話番号入力（国際電話対応）
- バリデーション + アクセシビリティ対応
- 送信後のクーポン/メール連携（SendGrid）

## 6. AIチャット（/chat）
- 会話UI（ユーザー/AIメッセージ）
- 旅行タイプ診断結果の反映
- 位置情報の自動取得/許可フロー
- Chat/Map/Split ビュー切替
- Google Places 検索・詳細取得（レビュー/写真含む）
- Placeカード表示（評価・レビュー数・距離）
- 検索半径ロジック（デフォルト3km、条件指定時の上書き）
- セッション管理
  - New Page（新規セッション）
  - 履歴一覧（ページング）
  - セッション切替/再開
  - リネーム/削除
  - 直近セッション再利用（1時間ウィンドウ）
- 共有リンク生成（/share/[token] の読み取り専用ページ）
- エラー/フォールバック応答

## 7. 旅行タイプ診断（/quiz）
- 多段階の質問フロー（同行者/年齢/食/言語/歩行など）
- スコアリングによるタイプ判定
- 結果モーダル表示
- 結果の保存・再利用
- 共有用カード生成（/quiz/share-card）

## 8. いいね/保存（Likes）
- 体験カード・詳細のLikeボタン
- 未ログイン時のログイン誘導
- いいね数表示
- 保存済み一覧（/liked-activities）
  - MDX体験の保存
  - AI生成カードの保存

## 9. 予約/QR/レビュー/事業者向け
- 予約QR表示（/qr/[bookingId]）
- QRトラッキング（/track/[bookingId]）
  - 店舗向けログイン
  - 完了確認/ステータス更新
- レビュー投稿（/review/[bookingId]）
- 事業者向けレビューQR生成（/business/review-qr/[bookingId]）
- 完了済みアクティビティ一覧（/completed-activities）
- 店舗の来店履歴（/business/visits）

## 10. 共有/外部連携
- チャット共有（読み取り専用リンク）
- SNSリンク/外部URL

## 11. SEO/計測
- SEOメタ（title/description/OG/Twitter）
- canonical / alternate 設定
- JSON-LD構造化データ
- サイトマップ（/sitemap.xml）
- GA4イベント（検索/体験閲覧/いいね等）

## 12. 位置情報機能
- 位置情報取得（ブラウザ許可）
- 取得状態の表示（許可/拒否/未対応など）
- 位置情報プロンプトの一度きり表示（永続化）
- 位置情報を使った検索・距離計算

## 13. アカウント/認証
- Supabase認証（OAuth/セッション）
- ゲスト状態とログイン状態の切替
- いいね/チャット/保存の認証制御

## 14. 外部サービス/インフラ連携
- Supabase（Auth/DB/RLS/チャット・保存データ）
- OpenAI（チャット応答/レコメンド/自動生成）
- Google Places/Maps（検索/詳細/レビュー/地図）
- SendGrid（フォーム送信・クーポン通知）
- Cloudinary（画像管理）
