インフラコスト計算シート - 月間1万ユーザー想定

シナリオ,コンサバティブ,アグレッシブ,ハイ
総ユーザー数,10000,10000,10000

=== ユーザー行動パラメータ ===
クイズ完了率,60%,80%,90%
チャット使用率,20%,50%,70%
月間チャット回数（1ユーザー）,1.5,4,10
月間詳細閲覧ページ数,2.5,6.5,17.5
月間いいね/予約数,1.5,4,10

=== Supabase ===
プラン,Pro,Pro,Team
月額基本料金（USD）,25,25,599
月額基本料金（円 @150円）,3750,3750,89850
データベースサイズ（GB）,3,6,9
Bandwidth（GB/月）,50,150,300
Pro Plan上限 - Storage（GB）,8,8,8
Pro Plan上限 - Bandwidth（GB）,250,250,250
超過の有無,なし,なし,あり（Team必須）
月額合計（円）,3750,3750,89850

=== Vercel ===
プラン,Pro,Pro,Pro
基本料金（USD/月）,20,20,20
基本料金（円 @150円）,3000,3000,3000
Bandwidth使用量（GB/月）,150,400,1000
Pro Plan上限（GB）,100,100,100
超過Bandwidth（GB）,50,300,900
超過料金（USD/GB）,0.15,0.15,0.15
Bandwidth超過料金（USD）,7.5,45,135
Bandwidth超過料金（円）,1125,6750,20250
Function Execution（GB-Hours）,30,80,220
Pro Plan上限（GB-Hours）,100,100,100
超過Function（GB-Hours）,0,0,120
Function超過料金（USD/GB-Hour）,0.6,0.6,0.6
Function超過料金（USD）,0,0,72
Function超過料金（円）,0,0,10800
月額合計（円）,4125,9750,34050

=== Google Maps/Places API ===
Text Search単価（USD/1000req）,32,32,32
Place Details単価（USD/1000req）,17,17,17
Photo API単価（USD/1000req）,7,7,7
Maps JavaScript単価（USD/1000loads）,7,7,7

Text Search使用回数,96000,140000,205000
Text Search料金（USD）,3072,4480,6560
Place Details使用回数,30000,70000,180000
Place Details料金（USD）,510,1190,3060
Photo API使用回数,60000,210000,720000
Photo API料金（USD）,420,1470,5040
Maps JavaScript使用回数,30000,50000,120000
Maps JavaScript料金（USD）,210,350,840

小計（USD）,4212,7490,15500
無料クレジット（USD/月）,200,200,200
合計（USD）,4012,7290,15300
月額合計（円 @150円）,6018,10935,22950

=== OpenAI API ===
モデル,GPT-4o-mini,GPT-4o-mini,GPT-4o-mini
Input単価（USD/1M tokens）,0.15,0.15,0.15
Output単価（USD/1M tokens）,0.6,0.6,0.6
Embeddings単価（USD/1M tokens）,0.02,0.02,0.02

チャット総回数,4000,20000,70000
1チャットInput tokens,1500,2000,2500
1チャットOutput tokens,800,1000,1200

Input総tokens（M）,6,40,175
Output総tokens（M）,3.2,20,84
Embeddings総tokens（M）,0.05,0.15,0.25

Input料金（USD）,0.9,6,26.25
Output料金（USD）,1.92,12,50.4
Embeddings料金（USD）,0.001,0.003,0.005

合計（USD）,2.821,18.003,76.655
月額合計（円 @150円）,423,2700,11498

=== Cloudinary ===
プラン,Free,Plus,Plus
基本料金（USD/月）,0,89,89
基本料金（円 @150円）,0,13350,13350
Storage使用量（GB）,15,30,50
Free上限（GB）,25,100,100
Plus上限（GB）,N/A,100,100
Bandwidth使用量（GB/月）,20,60,150
Free上限（GB）,25,100,100
Plus上限（GB）,N/A,100,100
超過Bandwidth（GB）,0,0,50
超過料金（USD/GB）,0,0,0.12
超過料金（USD）,0,0,6
超過料金（円）,0,0,900
Transformations回数,10000,30000,75000
Free上限,25000,100000,100000
月額合計（円）,0,13350,14250

=== SendGrid ===
プラン,Free,Free,Essentials
基本料金（USD/月）,0,0,19.95
基本料金（円 @150円）,0,0,2993
メール送信数（通/月）,1000,3000,10000
Free上限（通/日）,100,100,100
Free上限（通/月換算）,3000,3000,3000
超過の有無,なし,なし,あり
月額合計（円）,0,0,2993

=== その他コスト ===
監視ツール（円/月）,2000,5000,8000
CDN（円/月）,0,10000,0
バッファ（%）,20%,30%,0%

=== 合計 ===
基本コスト合計（円）,13191,40485,175591
監視ツール（円）,2000,5000,8000
CDN（円）,0,10000,0
小計（円）,15191,55485,183591
バッファ（円）,3038,16646,0
月額総コスト（円）,18229,72131,183591

推奨コスト（安全マージン込み）,28420,82740,178520

=== 1ユーザーあたりコスト ===
基本コスト/ユーザー,1.32,4.05,17.56
推奨コスト/ユーザー,2.84,8.27,17.85

=== コスト削減機会（月額） ===
最適化項目,コンサバ削減額,アグレッシブ削減額,ハイ削減額
キャッシュ強化,1800,3200,6800
OpenAI最適化,130,800,3400
画像最適化,0,2600,2800
Cloudflare CDN導入,0,3000,5000
APIコール最適化,900,2000,3500
合計削減見込み,2830,11600,21500
最適化後コスト,25590,71140,157020

=== ユーザー数スケール予測 ===
ユーザー数,コンサバ（円）,アグレッシブ（円）,ハイ（円）
5000,15000,22000,45000
10000,28420,82740,178520
20000,48000,155000,340000
50000,105000,360000,820000
100000,190000,680000,1580000

=== API呼び出し回数詳細 ===
項目,コンサバ,アグレッシブ,ハイ
おすすめ生成ユーザー数,6000,8000,9000
1ユーザーあたりAPI呼び出し,15,15,15
おすすめ生成総API呼び出し,90000,120000,135000

チャット使用ユーザー数,2000,5000,7000
1ユーザーあたりチャット回数,2,4,10
1チャットあたりAPI呼び出し,3,4,10
チャット総API呼び出し,12000,80000,700000

詳細閲覧総ページビュー,25000,65000,175000
1詳細あたりPlace Details呼び出し,1,1,1
詳細閲覧総API呼び出し,25000,65000,175000

写真取得総回数,60000,210000,720000

=== 重要な閾値 ===
サービス,現在のプラン,次のプラン,アップグレード閾値
Supabase,Pro ($25),Team ($599),Bandwidth 250GB超過時
Vercel,Pro ($20),Enterprise（要見積）,Bandwidth 1TB超過時
Cloudinary,Free ($0),Plus ($89),Storage 25GB超過時
SendGrid,Free ($0),Essentials ($19.95),100通/日超過時

=== 注意事項 ===
1. 為替レートは 1USD = 150円 で計算
2. Vercel無料プランから Pro Planへのアップグレードが必須（商用利用のため）
3. Google Places APIは無料クレジット$200/月を考慮済み
4. バッファは予期せぬスパイクやテスト使用を考慮
5. 監視ツールコストは別途必要（Datadog, Sentry等）
6. すべての料金は2025年11月時点の情報に基づく

=== 最適化優先度 ===
優先度,施策,削減見込み（%）,実装難易度,推奨タイミング
1,キャッシュ強化（Redis/Upstash）,30-40%（Places API）,中,即座
2,OpenAIプロンプト最適化,30-40%（OpenAI）,低,今週
3,画像最適化（WebP変換）,20-30%（Cloudinary）,中,今月
4,Cloudflare CDN導入,30-50%（Vercel）,中,1-2ヶ月
5,Places API代替（Mapbox）,50-80%（Places API）,高,3-6ヶ月
6,人気スポット自社DB化,20-40%（Places API）,高,3-6ヶ月
7,Vercel代替（Cloudflare Pages）,50-70%（Vercel）,高,3-6ヶ月
8,データベースクエリ最適化,Team Plan回避,中,1-3ヶ月

